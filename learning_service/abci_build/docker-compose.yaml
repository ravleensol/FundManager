version: "2.4"
services:

  learningservice_tm_0:
    user: "1000"
    mem_limit: 1024m
    mem_reservation: 256M
    cpus: 0.5
    container_name: learningservice_tm_0
    hostname: learningservice_tm_0
    image: "valory/open-autonomy-tendermint:0.14.10"
    restart: always
    environment:
      - ID=0
      - PROXY_APP=tcp://learningservice_abci_0:26658
      - TMHOME=/tendermint/node0
      - CREATE_EMPTY_BLOCKS=true
      - DEV_MODE=0
      - LOG_FILE=/logs/node_0.txt
      - LOG_LEVEL=INFO
      - WRITE_TO_LOG=true
    working_dir: /tendermint
    command: ["run", "--no-reload", "--host=0.0.0.0", "--port=8080",]
    depends_on:
      learningservice_abci_0:
        condition: service_healthy
    networks:
      service_learning_service_localnet:
        ipv4_address: 192.167.11.6
    volumes:
      - ./nodes:/tendermint:Z
      - ./persistent_data/logs:/logs:Z

  learningservice_tm_1:
    user: "1000"
    mem_limit: 1024m
    mem_reservation: 256M
    cpus: 0.5
    container_name: learningservice_tm_1
    hostname: learningservice_tm_1
    image: "valory/open-autonomy-tendermint:0.14.10"
    restart: always
    environment:
      - ID=1
      - PROXY_APP=tcp://learningservice_abci_1:26658
      - TMHOME=/tendermint/node1
      - CREATE_EMPTY_BLOCKS=true
      - DEV_MODE=0
      - LOG_FILE=/logs/node_1.txt
      - LOG_LEVEL=INFO
      - WRITE_TO_LOG=true
    working_dir: /tendermint
    command: ["run", "--no-reload", "--host=0.0.0.0", "--port=8080",]
    depends_on:
      learningservice_abci_1:
        condition: service_healthy
    networks:
      service_learning_service_localnet:
        ipv4_address: 192.167.11.7
    volumes:
      - ./nodes:/tendermint:Z
      - ./persistent_data/logs:/logs:Z

  learningservice_tm_2:
    user: "1000"
    mem_limit: 1024m
    mem_reservation: 256M
    cpus: 0.5
    container_name: learningservice_tm_2
    hostname: learningservice_tm_2
    image: "valory/open-autonomy-tendermint:0.14.10"
    restart: always
    environment:
      - ID=2
      - PROXY_APP=tcp://learningservice_abci_2:26658
      - TMHOME=/tendermint/node2
      - CREATE_EMPTY_BLOCKS=true
      - DEV_MODE=0
      - LOG_FILE=/logs/node_2.txt
      - LOG_LEVEL=INFO
      - WRITE_TO_LOG=true
    working_dir: /tendermint
    command: ["run", "--no-reload", "--host=0.0.0.0", "--port=8080",]
    depends_on:
      learningservice_abci_2:
        condition: service_healthy
    networks:
      service_learning_service_localnet:
        ipv4_address: 192.167.11.8
    volumes:
      - ./nodes:/tendermint:Z
      - ./persistent_data/logs:/logs:Z

  learningservice_tm_3:
    user: "1000"
    mem_limit: 1024m
    mem_reservation: 256M
    cpus: 0.5
    container_name: learningservice_tm_3
    hostname: learningservice_tm_3
    image: "valory/open-autonomy-tendermint:0.14.10"
    restart: always
    environment:
      - ID=3
      - PROXY_APP=tcp://learningservice_abci_3:26658
      - TMHOME=/tendermint/node3
      - CREATE_EMPTY_BLOCKS=true
      - DEV_MODE=0
      - LOG_FILE=/logs/node_3.txt
      - LOG_LEVEL=INFO
      - WRITE_TO_LOG=true
    working_dir: /tendermint
    command: ["run", "--no-reload", "--host=0.0.0.0", "--port=8080",]
    depends_on:
      learningservice_abci_3:
        condition: service_healthy
    networks:
      service_learning_service_localnet:
        ipv4_address: 192.167.11.9
    volumes:
      - ./nodes:/tendermint:Z
      - ./persistent_data/logs:/logs:Z

  learningservice_abci_0:
    mem_reservation: 256M
    mem_limit: 1024M
    cpus: 1.0
    container_name: learningservice_abci_0
    image: author/oar-learning_agent:bafybeifvlw5iov4hjtuyqhwd3yez57jmwpwqndjwlbhtppkdvuhgbiitjy
    environment:
      - PYTHONHASHSEED=0
      - LOG_FILE=/logs/aea_0.txt
      - ID=0
      - AEA_AGENT=valory/learning_agent:0.1.0:bafybeifvlw5iov4hjtuyqhwd3yez57jmwpwqndjwlbhtppkdvuhgbiitjy
      - LOG_LEVEL=INFO
      - AEA_PASSWORD=$OPEN_AUTONOMY_PRIVATE_KEY_PASSWORD
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_BENCHMARK_TOOL_ARGS_LOG_DIR=/logs
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SETUP_SAFE_CONTRACT_ADDRESS=0xec4E8b905308db1aE103AA9c49A55195eF4fBE29
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SETUP_ALL_PARTICIPANTS=["0x89F473ddaa456699E2b41e8710E8F7Af1eDF17CD","0x718c2b25AB7A9D889Ce6CA57EA12D457Faff77F7","0x36A6DdCAcb10f495d9c61005C216247Ef9ADfe61","0x8Cfa2F945B9C1324Ee0adcb76BcCA8DFBFFCC347"]
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SETUP_CONSENSUS_THRESHOLD=None
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_GENESIS_TIME=2022-09-26T00:00:00.000000000Z
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CHAIN_ID=chain-c4daS1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_BLOCK_MAX_BYTES=22020096
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_BLOCK_MAX_GAS=-1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_BLOCK_TIME_IOTA_MS=1000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_EVIDENCE_MAX_AGE_NUM_BLOCKS=100000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_EVIDENCE_MAX_AGE_DURATION=172800000000000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_EVIDENCE_MAX_BYTES=1048576
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_VALIDATOR_PUB_KEY_TYPES=["ed25519"]
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_VOTING_POWER=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_CLEANUP_HISTORY_DEPTH=1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_CLEANUP_HISTORY_DEPTH_CURRENT=None
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_DRAND_PUBLIC_KEY=868f005eb8e6e4ca0a47c8a77ceaa5309a47978a7c71bc5cce96366b5d7a569937c529eeda66c7293784a9402801af31
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_EARLIEST_BLOCK_TO_MONITOR=8053690
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_KEEPER_TIMEOUT=30.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MAX_ATTEMPTS=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MAX_HEALTHCHECK=120
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TERMINATION_SLEEP=900
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RESET_PAUSE_DURATION=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_ON_CHAIN_SERVICE_ID=None
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RESET_TENDERMINT_AFTER=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RETRY_ATTEMPTS=400
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RETRY_TIMEOUT=3
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_REQUEST_RETRY_DELAY=1.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_REQUEST_TIMEOUT=10.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_ROUND_TIMEOUT_SECONDS=30.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SERVICE_ID=learning
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SERVICE_REGISTRY_ADDRESS=0x48b6af7B12C71f09e2fC8aF4855De4Ff54e775cA
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SHARE_TM_CONFIG_ON_STARTUP=False
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SLEEP_TIME=1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_CHECK_SLEEP_DELAY=3
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_COM_URL=http://learningservice_tm_0:8080
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_MAX_RETRIES=5
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_URL=http://learningservice_tm_0:26657
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_P2P_URL=learning_tm_0:26656
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TX_TIMEOUT=10.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_USE_TERMINATION=False
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_VALIDATE_TIMEOUT=1205
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SERVICE_ENDPOINT_BASE=https://learning.autonolas.tech/
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MULTISEND_BATCH_SIZE=5
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_IPFS_ADDRESS=https://gateway.autonolas.tech/ipfs/
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_DEFAULT_CHAIN_ID=gnosis
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TERMINATION_FROM_BLOCK=34088325
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_COINGECKO_PRICE_TEMPLATE=https://api.coingecko.com/api/v3/simple/price?ids=autonolas&vs_currencies=inr&x_cg_demo_api_key={api_key}
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_COINGECKO_API_KEY=CG-EXLYYH79KBhcWr1h6zoCWDPw
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_FUND_MANAGER_CONTRACT_ADDRESS=0xbcf253651cfb56355a56aaed5c7cfbaf25dd04db
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_FUND_TOKEN=0xe91d153e0b41518a2ce8dd3d7944fa863463a97d
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TRANSFER_TARGET_ADDRESS=0x615d3278680337e2D39C3bc5042D959C7938B917
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MIN_DEVIATION_THRESHOLD=2
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MIN_PROPOSAL_AMOUNT=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MAX_PROPOSAL_AMOUNT=10000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MULTISEND_ADDRESS=0xA238CBeb142c10Ef7Ad8442C6D1f9E89e07e7761
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_ADDRESS=https://virtual.gnosis.rpc.tenderly.co/81dce020-a5a5-4f6e-814b-64214f6bb720
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_CHAIN_ID=100
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_POA_CHAIN=False
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_DEFAULT_GAS_PRICE_STRATEGY=eip1559
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_ADDRESS=https://virtual.gnosis.rpc.tenderly.co/81dce020-a5a5-4f6e-814b-64214f6bb720
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_CHAIN_ID=100
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_POA_CHAIN=False
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_DEFAULT_GAS_PRICE_STRATEGY=eip1559
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_IDENTIFIER=acn
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_LEDGER_ID=ethereum
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_MESSAGE_FORMAT={public_key}
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_NOT_AFTER=2023-01-01
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_NOT_BEFORE=2022-01-01
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_PUBLIC_KEY=02d3a830c9d6ea1ae91936951430dee11f4662f33118b02190693be835359a9d77
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_SAVE_PATH=.certs/acn_cosmos_11000.txt
      - CONNECTION_P2P_LIBP2P_CLIENT_CONFIG_NODES_0_URI=acn.staging.autonolas.tech:9005
      - CONNECTION_P2P_LIBP2P_CLIENT_CONFIG_NODES_0_PUBLIC_KEY=02d3a830c9d6ea1ae91936951430dee11f4662f33118b02190693be835359a9d77
      - CONNECTION_ABCI_CONFIG_HOST=learningservice_abci_0
      - CONNECTION_ABCI_CONFIG_PORT=26658
    networks:
      service_learning_service_localnet:
        ipv4_address: 192.167.11.2
    extra_hosts:
      - "host.docker.internal:host-gateway"
    volumes:
      - ./persistent_data/logs:/logs:Z
      - ./agent_keys/agent_0:/agent_key:Z
    ports:
      - 8000:8000

  learningservice_abci_1:
    mem_reservation: 256M
    mem_limit: 1024M
    cpus: 1.0
    container_name: learningservice_abci_1
    image: author/oar-learning_agent:bafybeifvlw5iov4hjtuyqhwd3yez57jmwpwqndjwlbhtppkdvuhgbiitjy
    environment:
      - PYTHONHASHSEED=0
      - LOG_FILE=/logs/aea_1.txt
      - ID=1
      - AEA_AGENT=valory/learning_agent:0.1.0:bafybeifvlw5iov4hjtuyqhwd3yez57jmwpwqndjwlbhtppkdvuhgbiitjy
      - LOG_LEVEL=INFO
      - AEA_PASSWORD=$OPEN_AUTONOMY_PRIVATE_KEY_PASSWORD
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_BENCHMARK_TOOL_ARGS_LOG_DIR=/logs
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SETUP_SAFE_CONTRACT_ADDRESS=0xec4E8b905308db1aE103AA9c49A55195eF4fBE29
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SETUP_ALL_PARTICIPANTS=["0x89F473ddaa456699E2b41e8710E8F7Af1eDF17CD","0x718c2b25AB7A9D889Ce6CA57EA12D457Faff77F7","0x36A6DdCAcb10f495d9c61005C216247Ef9ADfe61","0x8Cfa2F945B9C1324Ee0adcb76BcCA8DFBFFCC347"]
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SETUP_CONSENSUS_THRESHOLD=None
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_GENESIS_TIME=2022-09-26T00:00:00.000000000Z
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CHAIN_ID=chain-c4daS1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_BLOCK_MAX_BYTES=22020096
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_BLOCK_MAX_GAS=-1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_BLOCK_TIME_IOTA_MS=1000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_EVIDENCE_MAX_AGE_NUM_BLOCKS=100000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_EVIDENCE_MAX_AGE_DURATION=172800000000000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_EVIDENCE_MAX_BYTES=1048576
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_VALIDATOR_PUB_KEY_TYPES=["ed25519"]
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_VOTING_POWER=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_CLEANUP_HISTORY_DEPTH=1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_CLEANUP_HISTORY_DEPTH_CURRENT=None
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_DRAND_PUBLIC_KEY=868f005eb8e6e4ca0a47c8a77ceaa5309a47978a7c71bc5cce96366b5d7a569937c529eeda66c7293784a9402801af31
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_EARLIEST_BLOCK_TO_MONITOR=8053690
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_KEEPER_TIMEOUT=30.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MAX_ATTEMPTS=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MAX_HEALTHCHECK=120
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TERMINATION_SLEEP=900
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RESET_PAUSE_DURATION=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_ON_CHAIN_SERVICE_ID=None
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RESET_TENDERMINT_AFTER=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RETRY_ATTEMPTS=400
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RETRY_TIMEOUT=3
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_REQUEST_RETRY_DELAY=1.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_REQUEST_TIMEOUT=10.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_ROUND_TIMEOUT_SECONDS=30.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SERVICE_ID=learning
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SERVICE_REGISTRY_ADDRESS=0x48b6af7B12C71f09e2fC8aF4855De4Ff54e775cA
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SHARE_TM_CONFIG_ON_STARTUP=False
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SLEEP_TIME=1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_CHECK_SLEEP_DELAY=3
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_COM_URL=http://learningservice_tm_1:8080
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_MAX_RETRIES=5
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_URL=http://learningservice_tm_1:26657
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_P2P_URL=learning_tm_0:26656
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TX_TIMEOUT=10.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_USE_TERMINATION=False
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_VALIDATE_TIMEOUT=1205
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SERVICE_ENDPOINT_BASE=https://learning.autonolas.tech/
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MULTISEND_BATCH_SIZE=5
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_IPFS_ADDRESS=https://gateway.autonolas.tech/ipfs/
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_DEFAULT_CHAIN_ID=gnosis
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TERMINATION_FROM_BLOCK=34088325
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_COINGECKO_PRICE_TEMPLATE=https://api.coingecko.com/api/v3/simple/price?ids=autonolas&vs_currencies=inr&x_cg_demo_api_key={api_key}
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_COINGECKO_API_KEY=CG-EXLYYH79KBhcWr1h6zoCWDPw
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_FUND_MANAGER_CONTRACT_ADDRESS=0xbcf253651cfb56355a56aaed5c7cfbaf25dd04db
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_FUND_TOKEN=0xe91d153e0b41518a2ce8dd3d7944fa863463a97d
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TRANSFER_TARGET_ADDRESS=0x615d3278680337e2D39C3bc5042D959C7938B917
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MIN_DEVIATION_THRESHOLD=2
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MIN_PROPOSAL_AMOUNT=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MAX_PROPOSAL_AMOUNT=10000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MULTISEND_ADDRESS=0xA238CBeb142c10Ef7Ad8442C6D1f9E89e07e7761
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_ADDRESS=https://virtual.gnosis.rpc.tenderly.co/81dce020-a5a5-4f6e-814b-64214f6bb720
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_CHAIN_ID=100
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_POA_CHAIN=False
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_DEFAULT_GAS_PRICE_STRATEGY=eip1559
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_ADDRESS=https://virtual.gnosis.rpc.tenderly.co/81dce020-a5a5-4f6e-814b-64214f6bb720
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_CHAIN_ID=100
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_POA_CHAIN=False
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_DEFAULT_GAS_PRICE_STRATEGY=eip1559
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_IDENTIFIER=acn
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_LEDGER_ID=ethereum
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_MESSAGE_FORMAT={public_key}
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_NOT_AFTER=2023-01-01
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_NOT_BEFORE=2022-01-01
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_PUBLIC_KEY=02d3a830c9d6ea1ae91936951430dee11f4662f33118b02190693be835359a9d77
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_SAVE_PATH=.certs/acn_cosmos_11000.txt
      - CONNECTION_P2P_LIBP2P_CLIENT_CONFIG_NODES_0_URI=acn.staging.autonolas.tech:9005
      - CONNECTION_P2P_LIBP2P_CLIENT_CONFIG_NODES_0_PUBLIC_KEY=02d3a830c9d6ea1ae91936951430dee11f4662f33118b02190693be835359a9d77
      - CONNECTION_ABCI_CONFIG_HOST=learningservice_abci_1
      - CONNECTION_ABCI_CONFIG_PORT=26658
    networks:
      service_learning_service_localnet:
        ipv4_address: 192.167.11.3
    extra_hosts:
      - "host.docker.internal:host-gateway"
    volumes:
      - ./persistent_data/logs:/logs:Z
      - ./agent_keys/agent_1:/agent_key:Z
    ports:
      - 8001:8000

  learningservice_abci_2:
    mem_reservation: 256M
    mem_limit: 1024M
    cpus: 1.0
    container_name: learningservice_abci_2
    image: author/oar-learning_agent:bafybeifvlw5iov4hjtuyqhwd3yez57jmwpwqndjwlbhtppkdvuhgbiitjy
    environment:
      - PYTHONHASHSEED=0
      - LOG_FILE=/logs/aea_2.txt
      - ID=2
      - AEA_AGENT=valory/learning_agent:0.1.0:bafybeifvlw5iov4hjtuyqhwd3yez57jmwpwqndjwlbhtppkdvuhgbiitjy
      - LOG_LEVEL=INFO
      - AEA_PASSWORD=$OPEN_AUTONOMY_PRIVATE_KEY_PASSWORD
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_BENCHMARK_TOOL_ARGS_LOG_DIR=/logs
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SETUP_SAFE_CONTRACT_ADDRESS=0xec4E8b905308db1aE103AA9c49A55195eF4fBE29
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SETUP_ALL_PARTICIPANTS=["0x89F473ddaa456699E2b41e8710E8F7Af1eDF17CD","0x718c2b25AB7A9D889Ce6CA57EA12D457Faff77F7","0x36A6DdCAcb10f495d9c61005C216247Ef9ADfe61","0x8Cfa2F945B9C1324Ee0adcb76BcCA8DFBFFCC347"]
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SETUP_CONSENSUS_THRESHOLD=None
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_GENESIS_TIME=2022-09-26T00:00:00.000000000Z
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CHAIN_ID=chain-c4daS1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_BLOCK_MAX_BYTES=22020096
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_BLOCK_MAX_GAS=-1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_BLOCK_TIME_IOTA_MS=1000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_EVIDENCE_MAX_AGE_NUM_BLOCKS=100000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_EVIDENCE_MAX_AGE_DURATION=172800000000000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_EVIDENCE_MAX_BYTES=1048576
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_VALIDATOR_PUB_KEY_TYPES=["ed25519"]
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_VOTING_POWER=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_CLEANUP_HISTORY_DEPTH=1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_CLEANUP_HISTORY_DEPTH_CURRENT=None
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_DRAND_PUBLIC_KEY=868f005eb8e6e4ca0a47c8a77ceaa5309a47978a7c71bc5cce96366b5d7a569937c529eeda66c7293784a9402801af31
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_EARLIEST_BLOCK_TO_MONITOR=8053690
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_KEEPER_TIMEOUT=30.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MAX_ATTEMPTS=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MAX_HEALTHCHECK=120
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TERMINATION_SLEEP=900
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RESET_PAUSE_DURATION=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_ON_CHAIN_SERVICE_ID=None
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RESET_TENDERMINT_AFTER=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RETRY_ATTEMPTS=400
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RETRY_TIMEOUT=3
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_REQUEST_RETRY_DELAY=1.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_REQUEST_TIMEOUT=10.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_ROUND_TIMEOUT_SECONDS=30.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SERVICE_ID=learning
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SERVICE_REGISTRY_ADDRESS=0x48b6af7B12C71f09e2fC8aF4855De4Ff54e775cA
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SHARE_TM_CONFIG_ON_STARTUP=False
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SLEEP_TIME=1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_CHECK_SLEEP_DELAY=3
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_COM_URL=http://learningservice_tm_2:8080
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_MAX_RETRIES=5
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_URL=http://learningservice_tm_2:26657
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_P2P_URL=learning_tm_0:26656
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TX_TIMEOUT=10.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_USE_TERMINATION=False
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_VALIDATE_TIMEOUT=1205
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SERVICE_ENDPOINT_BASE=https://learning.autonolas.tech/
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MULTISEND_BATCH_SIZE=5
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_IPFS_ADDRESS=https://gateway.autonolas.tech/ipfs/
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_DEFAULT_CHAIN_ID=gnosis
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TERMINATION_FROM_BLOCK=34088325
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_COINGECKO_PRICE_TEMPLATE=https://api.coingecko.com/api/v3/simple/price?ids=autonolas&vs_currencies=inr&x_cg_demo_api_key={api_key}
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_COINGECKO_API_KEY=CG-EXLYYH79KBhcWr1h6zoCWDPw
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_FUND_MANAGER_CONTRACT_ADDRESS=0xbcf253651cfb56355a56aaed5c7cfbaf25dd04db
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_FUND_TOKEN=0xe91d153e0b41518a2ce8dd3d7944fa863463a97d
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TRANSFER_TARGET_ADDRESS=0x615d3278680337e2D39C3bc5042D959C7938B917
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MIN_DEVIATION_THRESHOLD=2
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MIN_PROPOSAL_AMOUNT=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MAX_PROPOSAL_AMOUNT=10000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MULTISEND_ADDRESS=0xA238CBeb142c10Ef7Ad8442C6D1f9E89e07e7761
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_ADDRESS=https://virtual.gnosis.rpc.tenderly.co/81dce020-a5a5-4f6e-814b-64214f6bb720
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_CHAIN_ID=100
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_POA_CHAIN=False
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_DEFAULT_GAS_PRICE_STRATEGY=eip1559
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_ADDRESS=https://virtual.gnosis.rpc.tenderly.co/81dce020-a5a5-4f6e-814b-64214f6bb720
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_CHAIN_ID=100
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_POA_CHAIN=False
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_DEFAULT_GAS_PRICE_STRATEGY=eip1559
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_IDENTIFIER=acn
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_LEDGER_ID=ethereum
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_MESSAGE_FORMAT={public_key}
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_NOT_AFTER=2023-01-01
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_NOT_BEFORE=2022-01-01
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_PUBLIC_KEY=02d3a830c9d6ea1ae91936951430dee11f4662f33118b02190693be835359a9d77
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_SAVE_PATH=.certs/acn_cosmos_11000.txt
      - CONNECTION_P2P_LIBP2P_CLIENT_CONFIG_NODES_0_URI=acn.staging.autonolas.tech:9005
      - CONNECTION_P2P_LIBP2P_CLIENT_CONFIG_NODES_0_PUBLIC_KEY=02d3a830c9d6ea1ae91936951430dee11f4662f33118b02190693be835359a9d77
      - CONNECTION_ABCI_CONFIG_HOST=learningservice_abci_2
      - CONNECTION_ABCI_CONFIG_PORT=26658
    networks:
      service_learning_service_localnet:
        ipv4_address: 192.167.11.4
    extra_hosts:
      - "host.docker.internal:host-gateway"
    volumes:
      - ./persistent_data/logs:/logs:Z
      - ./agent_keys/agent_2:/agent_key:Z
    ports:
      - 8002:8000

  learningservice_abci_3:
    mem_reservation: 256M
    mem_limit: 1024M
    cpus: 1.0
    container_name: learningservice_abci_3
    image: author/oar-learning_agent:bafybeifvlw5iov4hjtuyqhwd3yez57jmwpwqndjwlbhtppkdvuhgbiitjy
    environment:
      - PYTHONHASHSEED=0
      - LOG_FILE=/logs/aea_3.txt
      - ID=3
      - AEA_AGENT=valory/learning_agent:0.1.0:bafybeifvlw5iov4hjtuyqhwd3yez57jmwpwqndjwlbhtppkdvuhgbiitjy
      - LOG_LEVEL=INFO
      - AEA_PASSWORD=$OPEN_AUTONOMY_PRIVATE_KEY_PASSWORD
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_BENCHMARK_TOOL_ARGS_LOG_DIR=/logs
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SETUP_SAFE_CONTRACT_ADDRESS=0xec4E8b905308db1aE103AA9c49A55195eF4fBE29
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SETUP_ALL_PARTICIPANTS=["0x89F473ddaa456699E2b41e8710E8F7Af1eDF17CD","0x718c2b25AB7A9D889Ce6CA57EA12D457Faff77F7","0x36A6DdCAcb10f495d9c61005C216247Ef9ADfe61","0x8Cfa2F945B9C1324Ee0adcb76BcCA8DFBFFCC347"]
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SETUP_CONSENSUS_THRESHOLD=None
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_GENESIS_TIME=2022-09-26T00:00:00.000000000Z
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CHAIN_ID=chain-c4daS1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_BLOCK_MAX_BYTES=22020096
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_BLOCK_MAX_GAS=-1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_BLOCK_TIME_IOTA_MS=1000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_EVIDENCE_MAX_AGE_NUM_BLOCKS=100000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_EVIDENCE_MAX_AGE_DURATION=172800000000000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_EVIDENCE_MAX_BYTES=1048576
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_CONSENSUS_PARAMS_VALIDATOR_PUB_KEY_TYPES=["ed25519"]
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_GENESIS_CONFIG_VOTING_POWER=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_CLEANUP_HISTORY_DEPTH=1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_CLEANUP_HISTORY_DEPTH_CURRENT=None
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_DRAND_PUBLIC_KEY=868f005eb8e6e4ca0a47c8a77ceaa5309a47978a7c71bc5cce96366b5d7a569937c529eeda66c7293784a9402801af31
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_EARLIEST_BLOCK_TO_MONITOR=8053690
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_KEEPER_TIMEOUT=30.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MAX_ATTEMPTS=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MAX_HEALTHCHECK=120
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TERMINATION_SLEEP=900
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RESET_PAUSE_DURATION=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_ON_CHAIN_SERVICE_ID=None
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RESET_TENDERMINT_AFTER=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RETRY_ATTEMPTS=400
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_RETRY_TIMEOUT=3
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_REQUEST_RETRY_DELAY=1.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_REQUEST_TIMEOUT=10.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_ROUND_TIMEOUT_SECONDS=30.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SERVICE_ID=learning
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SERVICE_REGISTRY_ADDRESS=0x48b6af7B12C71f09e2fC8aF4855De4Ff54e775cA
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SHARE_TM_CONFIG_ON_STARTUP=False
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SLEEP_TIME=1
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_CHECK_SLEEP_DELAY=3
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_COM_URL=http://learningservice_tm_3:8080
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_MAX_RETRIES=5
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_URL=http://learningservice_tm_3:26657
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TENDERMINT_P2P_URL=learning_tm_0:26656
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TX_TIMEOUT=10.0
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_USE_TERMINATION=False
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_VALIDATE_TIMEOUT=1205
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_SERVICE_ENDPOINT_BASE=https://learning.autonolas.tech/
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MULTISEND_BATCH_SIZE=5
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_IPFS_ADDRESS=https://gateway.autonolas.tech/ipfs/
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_DEFAULT_CHAIN_ID=gnosis
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TERMINATION_FROM_BLOCK=34088325
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_COINGECKO_PRICE_TEMPLATE=https://api.coingecko.com/api/v3/simple/price?ids=autonolas&vs_currencies=inr&x_cg_demo_api_key={api_key}
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_COINGECKO_API_KEY=CG-EXLYYH79KBhcWr1h6zoCWDPw
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_FUND_MANAGER_CONTRACT_ADDRESS=0xbcf253651cfb56355a56aaed5c7cfbaf25dd04db
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_FUND_TOKEN=0xe91d153e0b41518a2ce8dd3d7944fa863463a97d
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_TRANSFER_TARGET_ADDRESS=0x615d3278680337e2D39C3bc5042D959C7938B917
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MIN_DEVIATION_THRESHOLD=2
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MIN_PROPOSAL_AMOUNT=10
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MAX_PROPOSAL_AMOUNT=10000
      - SKILL_LEARNING_CHAINED_ABCI_MODELS_PARAMS_ARGS_MULTISEND_ADDRESS=0xA238CBeb142c10Ef7Ad8442C6D1f9E89e07e7761
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_ADDRESS=https://virtual.gnosis.rpc.tenderly.co/81dce020-a5a5-4f6e-814b-64214f6bb720
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_CHAIN_ID=100
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_POA_CHAIN=False
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_ETHEREUM_DEFAULT_GAS_PRICE_STRATEGY=eip1559
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_ADDRESS=https://virtual.gnosis.rpc.tenderly.co/81dce020-a5a5-4f6e-814b-64214f6bb720
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_CHAIN_ID=100
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_POA_CHAIN=False
      - CONNECTION_LEDGER_CONFIG_LEDGER_APIS_GNOSIS_DEFAULT_GAS_PRICE_STRATEGY=eip1559
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_IDENTIFIER=acn
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_LEDGER_ID=ethereum
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_MESSAGE_FORMAT={public_key}
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_NOT_AFTER=2023-01-01
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_NOT_BEFORE=2022-01-01
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_PUBLIC_KEY=02d3a830c9d6ea1ae91936951430dee11f4662f33118b02190693be835359a9d77
      - CONNECTION_P2P_LIBP2P_CLIENT_CERT_REQUESTS_0_SAVE_PATH=.certs/acn_cosmos_11000.txt
      - CONNECTION_P2P_LIBP2P_CLIENT_CONFIG_NODES_0_URI=acn.staging.autonolas.tech:9005
      - CONNECTION_P2P_LIBP2P_CLIENT_CONFIG_NODES_0_PUBLIC_KEY=02d3a830c9d6ea1ae91936951430dee11f4662f33118b02190693be835359a9d77
      - CONNECTION_ABCI_CONFIG_HOST=learningservice_abci_3
      - CONNECTION_ABCI_CONFIG_PORT=26658
    networks:
      service_learning_service_localnet:
        ipv4_address: 192.167.11.5
    extra_hosts:
      - "host.docker.internal:host-gateway"
    volumes:
      - ./persistent_data/logs:/logs:Z
      - ./agent_keys/agent_3:/agent_key:Z
    ports:
      - 8003:8000

networks:
  service_learning_service_localnet:
    driver: bridge
    ipam:
      driver: default
      config:
        - subnet: 192.167.11.0/24
